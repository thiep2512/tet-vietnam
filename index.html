<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>T·∫æT VI·ªÜT NAM ‚Äì Interactive</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --red: #c30000;
    --gold: #ffd700;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    user-select: none;
}

body {
    background: radial-gradient(circle at bottom, #400000, #100000);
    overflow: hidden;
    font-family: 'Segoe UI', sans-serif;
    color: white;
}

canvas {
    position: fixed;
    inset: 0;
}

/* ================= UI (GI·ªÆA ‚Äì PH√çA TR√äN) ================= */
#ui {
    position: fixed;
    top: 30px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 10;
}

#title {
    font-size: 36px;
    color: var(--gold);
    text-shadow: 0 0 15px red;
}

#countdown {
    margin-top: 10px;
    font-size: 20px;
}

#year {
    margin-top: 6px;
    font-size: 16px;
    color: #ffb;
}

/* ================= C√ÇU ƒê·ªêI ‚Äì CH·ªÆ D·ªåC ================= */
.cau-doi {
    position: fixed;
    top: 120px;
    width: 60px;
    height: 70%;
    background: linear-gradient(#c40000, #7a0000);
    color: var(--gold);
    font-size: 22px;
    font-weight: bold;
    text-align: center;
    padding: 15px 5px;
    border-radius: 10px;
    box-shadow: 0 0 20px rgba(255,0,0,0.4);
    z-index: 9;

    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
}

/* HI·ªÜU ·ª®NG HI·ªÜN T·ª™ TR√äN XU·ªêNG */
.cau-doi span {
    opacity: 0;
    transform: translateY(-20px);
    transition: opacity 0.8s ease, transform 0.8s ease;
}

#doi-left { left: 20px; }
#doi-right { right: 20px; }

/* ================= L√å X√å ================= */
.lixi {
    position: fixed;
    width: 60px;
    height: 80px;
    background: linear-gradient(135deg, #ff0000, #aa0000);
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(255,0,0,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: gold;
    cursor: pointer;
    z-index: 20;
    animation: float 3s ease-in-out infinite;
}

@keyframes float {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
}

.popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 50;
}

.popup div {
    background: linear-gradient(135deg, red, darkred);
    padding: 40px;
    border-radius: 20px;
    color: gold;
    font-size: 24px;
    text-align: center;
    box-shadow: 0 0 30px gold;
}
</style>
</head>

<body>
<canvas id="canvas"></canvas>

<!-- C√ÇU ƒê·ªêI CH·ªÆ D·ªåC -->
<div class="cau-doi" id="doi-left">
    <span>Xu√¢n</span>
    <span>Sang</span>
    <span>Ph√∫c</span>
    <span>L·ªôc</span>
    <span>ƒê·∫ßy</span>
    <span>Nh√†</span>
</div>

<div class="cau-doi" id="doi-right">
    <span>T·∫øt</span>
    <span>ƒê·∫øn</span>
    <span>B√¨nh</span>
    <span>An</span>
    <span>V·∫°n</span>
    <span>S·ª±</span>
</div>

<!-- UI -->
<div id="ui">
    <div id="title">üéä CH√öC M·ª™NG NƒÇM M·ªöI üéä</div>
    <div id="countdown"></div>
    <div id="year"></div>
</div>

<div class="popup" id="popup">
    <div id="popupText"></div>
</div>

<script>
/* ================= CANVAS SETUP ================= */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = innerWidth;
    canvas.height = innerHeight;
}
resize();
addEventListener("resize", resize);

/* ================= UTIL ================= */
const rand = (a,b)=>Math.random()*(b-a)+a;

/* ================= NOISE ================= */
let noiseSeed = Math.random()*1000;
function noise(x){
    return Math.sin(x*0.02 + noiseSeed)*0.5 + 0.5;
}

/* ================= FLOWER ================= */
class Flower {
    constructor(){
        this.x = rand(0,canvas.width);
        this.y = rand(-canvas.height,0);
        this.size = rand(4,8);
        this.speed = rand(0.3,1);
        this.rot = rand(0,Math.PI*2);
    }
    update(t){
        let wind = (noise(t+this.y)-0.5)*1.5;
        this.x += wind;
        this.y += this.speed;
        this.rot += 0.01;
        if(this.y>canvas.height+20) this.y=-20;
    }
    draw(){
        ctx.save();
        ctx.translate(this.x,this.y);
        ctx.rotate(this.rot);
        ctx.fillStyle = "pink";
        for(let i=0;i<5;i++){
            ctx.rotate(Math.PI*2/5);
            ctx.beginPath();
            ctx.ellipse(0,5,this.size,this.size/2,0,0,Math.PI*2);
            ctx.fill();
        }
        ctx.restore();
    }
}
const flowers = Array.from({length:200},()=>new Flower());

/* ================= FIREWORK ================= */
class Particle {
    constructor(x,y){
        this.x=x; this.y=y;
        let a=Math.random()*Math.PI*2;
        let s=Math.random()*6+2;
        this.vx=Math.cos(a)*s;
        this.vy=Math.sin(a)*s;
        this.life=100;
        this.color=`hsl(${rand(0,360)},100%,60%)`;
    }
    update(){
        this.vy+=0.05;
        this.x+=this.vx;
        this.y+=this.vy;
        this.life--;
    }
    draw(){
        ctx.fillStyle=this.color;
        ctx.fillRect(this.x,this.y,2,2);
    }
}

let fireworks=[];
setInterval(()=>{
    let x=rand(100,canvas.width-100);
    let y=rand(100,canvas.height/2);
    for(let i=0;i<120;i++) fireworks.push(new Particle(x,y));
},1200);

/* ================= LOOP ================= */
let time=0;
function animate(){
    time++;
    ctx.fillStyle="rgba(0,0,0,0.2)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    flowers.forEach(f=>{f.update(time);f.draw();});

    fireworks = fireworks.filter(p=>p.life>0);
    fireworks.forEach(p=>{p.update();p.draw();});

    requestAnimationFrame(animate);
}
animate();

/* ================= COUNTDOWN ================= */
function countdown(){
    const tet = new Date(new Date().getFullYear()+1,0,1);
    const now = new Date();
    let d = Math.max(0, tet-now);
    let days = Math.floor(d/86400000);
    let h = Math.floor(d/3600000)%24;
    let m = Math.floor(d/60000)%60;
    let s = Math.floor(d/1000)%60;
    document.getElementById("countdown").innerText =
        `‚è≥ C√≤n ${days} ng√†y ${h}h ${m}m ${s}s`;
}
setInterval(countdown,1000);

/* ================= CAN CHI ================= */
const CAN=["Gi√°p","·∫§t","B√≠nh","ƒêinh","M·∫≠u","K·ª∑","Canh","T√¢n","Nh√¢m","Qu√Ω"];
const CHI=["T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i"];
let y=new Date().getFullYear();
document.getElementById("year").innerText =
    `NƒÉm ${CAN[(y+6)%10]} ${CHI[(y+8)%12]}`;

/* ================= L√å X√å ================= */
function spawnLixi(){
    let d=document.createElement("div");
    d.className="lixi";
    d.style.left=rand(80,innerWidth-140)+"px";
    d.style.top=rand(120,innerHeight-200)+"px";
    d.innerText="üßß";
    d.onclick=()=>{
        document.getElementById("popupText").innerText =
            "üí∞ L·ªòC XU√ÇN üí∞\nCh√∫c b·∫°n nƒÉm m·ªõi ph√°t t√†i!";
        document.getElementById("popup").style.display="flex";
        d.remove();
    };
    document.body.appendChild(d);
}
for(let i=0;i<3;i++) setTimeout(spawnLixi,i*1500);

document.getElementById("popup").onclick=()=>{
    document.getElementById("popup").style.display="none";
};

/* ================= K√çCH HO·∫†T C√ÇU ƒê·ªêI ================= */
function animateCouplet(){
    document.querySelectorAll('.cau-doi').forEach(c=>{
        c.querySelectorAll('span').forEach((ch,i)=>{
            setTimeout(()=>{
                ch.style.opacity=1;
                ch.style.transform='translateY(0)';
            }, i*(300+Math.random()*200));
        });
    });
}
window.addEventListener("load", animateCouplet);
</script>
</body>
</html>

