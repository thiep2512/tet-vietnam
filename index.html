<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>T·∫æT VI·ªÜT NAM ‚Äì Interactive</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
    --red: #c30000;
    --gold: #ffd700;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    user-select: none;
}

body {
    background: white;
    overflow: hidden;
    font-family: 'Segoe UI', sans-serif;
    color: black;
    position: relative;
}

canvas {
    position: fixed;
    inset: 0;
}

/* ================= UI ================= */
#ui {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 10;
}

#title {
    font-size: 28px;
    color: var(--red);
    text-shadow: 0 0 10px var(--gold);
}

#countdown { margin-top: 6px; font-size: 16px; }
#year { margin-top: 4px; font-size: 14px; color: var(--red); }

/* ================= C√ÇU ƒê·ªêI ================= */
.cau-doi {
    position: fixed;
    top: 100px;
    width: 44px;
    height: 65%;
    background: linear-gradient(#c30000, #900000);
    color: var(--gold);
    font-size: 16px;
    font-weight: bold;
    text-align: center;
    padding: 10px 4px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(255,0,0,0.4);
    z-index: 9;
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
}

#doi-left { left: 6px; }
#doi-right { right: 6px; }

/* ================= L√å X√å ================= */
.lixi {
    position: fixed;
    width: 48px;
    height: 64px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: gold;
    cursor: pointer;
    z-index: 20;
    animation: float 3s ease-in-out infinite;
    touch-action: manipulation;
}

.lixi.red { background: linear-gradient(135deg, #ff0000, #aa0000); }
.lixi.yellow { background: linear-gradient(135deg, #ffcc00, #ffaa00); color: #444; }
.lixi.green { background: linear-gradient(135deg, #00aa00, #008800); }
.lixi.blue { background: linear-gradient(135deg, #0099ff, #0066aa); }
.lixi.purple { background: linear-gradient(135deg, #aa00ff, #7700aa); }

@keyframes float {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
}

.popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 50;
}

.popup div {
    background: linear-gradient(135deg, red, darkred);
    padding: 25px;
    border-radius: 20px;
    color: gold;
    font-size: 18px;
    text-align: center;
    box-shadow: 0 0 20px gold;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<!-- C√ÇU ƒê·ªêI -->
<div class="cau-doi" id="doi-left">
    <div>Xu√¢n</div>
    <div>Sang</div>
    <div>Ph√∫c</div>
    <div>L·ªôc</div>
    <div>ƒê·∫ßy</div>
    <div>Nh√†</div>
</div>
<div class="cau-doi" id="doi-right">
    <div>T·∫øt</div>
    <div>ƒê·∫øn</div>
    <div>B√¨nh</div>
    <div>An</div>
    <div>V·∫°n</div>
    <div>S·ª±</div>
</div>

<!-- UI -->
<div id="ui">
    <div id="title">üéä CH√öC M·ª™NG NƒÇM M·ªöI üéä</div>
    <div id="countdown"></div>
    <div id="year"></div>
</div>

<div class="popup" id="popup">
    <div id="popupText"></div>
</div>

<script>
/* ================= CANVAS SETUP ================= */
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() { canvas.width = innerWidth; canvas.height = innerHeight; }
resize();
addEventListener("resize", resize);

const rand = (a,b)=>Math.random()*(b-a)+a;

/* ================= FLOWER ================= */
class Flower {
    constructor(color){
        this.x = rand(0,canvas.width);
        this.y = rand(-canvas.height,0);
        this.size = rand(3,6);
        this.speed = rand(1,2);
        this.angle = rand(0, Math.PI*2);
        this.color = color; // pink ho·∫∑c v√†ng
    }
    update(){
        this.x += Math.sin(this.angle) * 1;
        this.y += this.speed;
        this.angle += 0.02;
        if(this.y > canvas.height + 10) this.y = -10;
    }
    draw(){
        ctx.save();
        ctx.translate(this.x,this.y);
        ctx.rotate(this.angle);
        ctx.fillStyle = this.color;
        for(let i=0;i<5;i++){
            ctx.rotate(Math.PI*2/5);
            ctx.beginPath();
            ctx.ellipse(0,3,this.size,this.size/2,0,0,Math.PI*2);
            ctx.fill();
        }
        ctx.restore();
    }
}

// t·∫°o hoa h·ªìng v√† v√†ng
const flowers = [];
for(let i=0;i<50;i++) flowers.push(new Flower("pink"));
for(let i=0;i<50;i++) flowers.push(new Flower("gold"));

/* ================= L√å X√å ================= */
const lixiColors = ["red","yellow","green","blue","purple"];
const lixiMessages = [
    "Ch√∫c b·∫°n nƒÉm m·ªõi vui v·∫ª!",
    "Ph√°t t√†i ph√°t l·ªôc!",
    "S·ª©c kh·ªèe d·ªìi d√†o!",
    "V·∫°n s·ª± nh∆∞ √Ω!",
    "H·∫°nh ph√∫c tr√†n ƒë·∫ßy!"
];
const lixiMoney = ["1k","2k","5k","10k","20k"];

function spawnLixi(){
    if(lixiColors.length===0) return;
    const color = lixiColors.shift();
    let d=document.createElement("div");
    d.className="lixi "+color;
    d.style.left=rand(30,innerWidth-70)+"px";
    d.style.top=rand(100,innerHeight-150)+"px";
    d.innerText="üßß";
    d.onclick=()=>{
        let show = Math.random()<0.5 ? lixiMessages[Math.floor(rand(0,lixiMessages.length))] : "B·∫°n nh·∫≠n ƒë∆∞·ª£c "+lixiMoney[Math.floor(rand(0,lixiMoney.length))];
        document.getElementById("popupText").innerText=`üí∞ L·ªòC XU√ÇN üí∞\n${show}`;
        document.getElementById("popup").style.display="flex";
        d.remove();
    };
    document.body.appendChild(d);
}
for(let i=0;i<5;i++) setTimeout(spawnLixi,i*500);

/* ================= LOOP ================= */
function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    flowers.forEach(f=>{f.update();f.draw();});
    requestAnimationFrame(animate);
}
animate();

/* ================= COUNTDOWN ================= */
function countdown(){
    const tet = new Date(new Date().getFullYear()+1,0,1);
    const now = new Date();
    let d = Math.max(0,tet-now);
    let days = Math.floor(d/86400000);
    let h = Math.floor(d/3600000)%24;
    let m = Math.floor(d/60000)%60;
    let s = Math.floor(d/1000)%60;
    document.getElementById("countdown").innerText=`‚è≥ C√≤n ${days} ng√†y ${h}h ${m}m ${s}s`;
}
setInterval(countdown,1000);

/* ================= CAN CHI ================= */
const CAN=["Gi√°p","·∫§t","B√≠nh","ƒêinh","M·∫≠u","K·ª∑","Canh","T√¢n","Nh√¢m","Qu√Ω"];
const CHI=["T√Ω","S·ª≠u","D·∫ßn","M√£o","Th√¨n","T·ªµ","Ng·ªç","M√πi","Th√¢n","D·∫≠u","Tu·∫•t","H·ª£i"];
let y=new Date().getFullYear();
document.getElementById("year").innerText = `NƒÉm ${CAN[(y+6)%10]} ${CHI[(y+8)%12]}`;

document.getElementById("popup").onclick=()=>{document.getElementById("popup").style.display="none";}
</script>
</body>
</html>
